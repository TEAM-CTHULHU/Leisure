<!DOCTYPE html>
<html>
  <head>
        <style>
                @font-face
                {
                        font-family: SavilleRow;
                        src: url('SAVILLE1.woff'); format('woff');
                }
                @font-face
                {
                        font-family: MouseDeco;
                        src: url('Mouse_Deco.woff'); format('woff');
                }
                @font-face
                {
                        font-family: Ciudad;
                        src: url('Ciudad Nueva CAPS Bold.woff'); format('woff');
                }
                .steampunk .org-fancy [data-org-headline='1'] {
                        margin-bottom: 0;
                }
                .steampunk .org-fancy, .steampunk #loading {
                        /*font-family: Ciudad;*/
                        font-family: MouseDeco;
                        /*font-family: SavilleRow;*/
                        /*font-family: Arial;*/
                }
                .steampunk .org-fancy [data-org-src] {
                    border: solid rgb(156, 122, 71) 2px;
                    background-color: #e6dcc3;
                }
                .steampunk .coderesults {
                    border: solid rgb(156, 122, 71) 2px;
                    background-color: #e6dcc3;
                }
                .steampunk .comments > * {
                    border: solid rgb(156, 122, 15) 2px;
                    background-color: #e6dcc3;
                }
                .steampunk.ast svg {
                    border: solid rgb(48, 36, 71) 2px;
                    background-color: #e6dcc3;
                 }
                .steampunk #loading, .steampunk [data-org-type="headline"] > [data-org-type='text'] {
                        color: black;
                }
                .steampunk #loading, .steampunk .org-fancy [data-org-type="headline"] > [data-org-type='text'] {
                        text-shadow: 2px 2px grey;
                }
                .steampunk .codeblock {
                        font-family: Courier;
                }
                .steampunk .org-fancy [data-org-headline='1'] {
                        border: none;
                }
                .steampunk.slides .org-fancy [data-org-headline='1'] > [data-org-type='text'] {
                        top: 8px;
                }
                .steampunk #loading-message, .steampunk.slides .org-fancy [data-org-headline='1'] > [data-org-type='text'] > [data-org-type='text-content'] {
                        min-height: 1em;
                        padding-top: 40px;
                        padding-bottom: 40px;
                        padding-left: 46px;
                        padding-right: 46px;
                }
                .steampunk #loading-message .textborder,
                .steampunk.slides .org-fancy [data-org-headline='1'] > [data-org-type='text'] > [data-org-type='text-content'] > .textborder {
                        background-color: transparent;
                        background: url(images/clean_rivets_fill.png) border-box no-repeat 0% 0% / 100% 100%;
                        border-radius: 0;
                        border-width: 46px;
                        border-image: url(images/clean_rivets_bkgnd.png) 46 46;
                }
                .steampunk.page > .border {
                        border-radius: 0;
                        border-width: 193px 178px 193px 178px;
                        border-image: url(images/steampunk_border.png) 193 178 193 178;
                        background: url(images/steampunk_background-faded.jpg) border-box no-repeat 0% 0% / 100% 100%;
                }
                .steampunk .codeblock[data-org-test] .codeborder {
                        border-width: 0;
                        border-image: none;
                        border: none;
                }
                .steampunk .codeblock[data-org-test="unknown"] {
                        background: url(images/gauge_white.png);
                        background-size: 60px 60px;
                }
                .steampunk .codeblock[data-org-test="pass"] {
                        background: url(images/gauge_green.png);
                        background-size: 60px 60px;
                }
                .steampunk .codeblock[data-org-test="fail"] {
                        background: url(images/gauge_red.png);
                        background-size: 60px 60px;
                }
                .steampunk .codeblock[data-org-test] {
                        display: inline-block;
                        width: 60px;
                        min-width: 60px;
                        height: 60px;
                        padding: none;
                        padding: 0;
                        padding-left: 0;
                        padding-right: 0;
                }
                .steampunk [data-org-test] > * {
                        display: none;
                }
                .steampunk [data-org-test] {
                        cursor: pointer;
                }
                .steampunk .codeborder {
                        border: transparent;
                        border-radius: 0;
                        border-width: 29px;
                        border-image: url(images/code_border2.png) 32 32 stretch;
                        background-color: #ccb271;
                }
                .steampunk .codeblock {
                        padding: calc(29px + 3px);
                        padding-right: calc(29px + 32px);
                }
								.steampunk #leisure_bar {
									min-height: 67px;
									width: 177px;
									background-image: url(images/steampunk_leisure_button.png);
									background-repeat: no-repeat;
									background-size: 177px 67px;
                  left: 45%;
                  bottom: 0px;
                  cursor: pointer;
								}
								.steampunk .testcase-button {
                  padding: 0px 0px;
                }
								.steampunk .testcase-button div {
									background-image: url(images/finger_gauge.png);
                  background-color: #e6dcc3;
									background-repeat: no-repeat;
									background-size: 90px 32px;
                  width: 90px;
								}
                .steampunk button {
                  border: solid rgb(96, 57, 19) 2px;
                  cursor: pointer;
                }
                .steampunk .comment-button {
                  background-color: #e6dcc3;
                  border: solid rgb(96, 57, 19) 2px;
                }
								.steampunk .page {
									background-color: #A58C4D;
								}
								.steampunk .results-indicator div {
									background: url(images/lightbulb.png) no-repeat 0% 0% / 100% 100%;
									background-color: #e6dcc3;
									width: 36px;
									height: 36px;
								}
								.steampunk .results-indicator {
								  padding: 0px;
								}
								.steampunk .codeblock .dyntoggle:before {
									content: none;
								}
								.steampunk .codeblock .dyntoggle {
									background: url(images/link_icon.png) no-repeat 0% 0% / 100% 100%;
									background-color: #e6dcc3;
									width: 36px;
									height: 13px;
								}
                .steampunk [data-org-results='dynamic'] .dyntoggle {
									background: url(images/unlink_icon.png) no-repeat 0% 0% / 100% 100%;
                }
								.steampunk .dyntoggle-button {
								  padding: 0px;
								}
        </style>
        <style>
                body {
                        position: relative;
                        margin: 0;
                        font-size: large;
                }
                #loading {
                        position: absolute;
                        width: 100%;
                        height: 100%;
                        margin: 0;
                        text-align: center;
                }
                #loading-message {
                        vertical-align: middle;
                }
                [maindoc] {
                        white-space: pre-wrap;
                        outline: none;
                }
                [data-org-type="headline"] > [data-org-type="text"] {
                        color: orange;
                        font-weight: bold;
                }
                .collapsed > [data-org-type="text"] {
                        display: inline;
                }
                .collapsed > * {
                        display: none;
                }
                .collapsed > [data-org-type="text"]:after {
                        content: '...';
                }
                .collapsed > [data-org-type="text"]:last-child:after {
                        content: '... (EMPTY)';
                }
                [dirty] {
                        font-style: oblique;
                }
                .commentbox {
                        position: relative;
                }
                .commentbox > img {
                        position: absolute;
                }
                .commentbox > div {
                        min-height: 50px;
                        margin-left: 50px;
                        padding: 5px;
                        display: inline-block;
                }
                .commentbox > .main {
                        border: solid green 1px;
                }
                .commentbox > .added {
                        border: solid blue 1px;
                }
                /* fancy org mode stuff  */
                .hidden {
                        display: none !important;
                }
                .boundary {
                        white-space: pre-wrap;
                }
                .codeblock {
                        min-width: 400px;
                        display: inline-block;
                        position: relative;
                        padding: 3px;
                        padding-right: 32px;
                }
                .codeborder {
                        position: absolute;
                        border: solid black 2px;
                        border-radius: 10px;
                        background: lightgray;
                        top: 0;
                        bottom: 0;
                        left: 0;
                        right: 0;
                        z-index: -1;
                }
                .codename {
                        padding-left: 24px;
                }
                .codewrapper {
                        white-space: pre-wrap;
                        position: relative;
                        vertical-align: middle;
                }
                .org-fancy [data-org-src], .coderesults {
                        border-radius: 10px;
                        padding: 3px;
                        background: white;
                        display: inline-block;
                        vertical-align: middle;
                }
                .testcase-button div {
                        background: url(images/toTestCaseButton.png) no-repeat 0% 0% / 100% 100%;
                        width: 64px;
                        height: 32px;
                }
                .results-indicator div {
                        background: url(icons/monotone_arrow_right_next.png) no-repeat 0% 0% / 100% 100%;
                        width: 32px;
                        height: 32px;
                }
                .codeblock .dyntoggle:before {
                        content: 'link';
                }
                [data-org-results='dynamic'] .dyntoggle:before {
                        content: 'unlink';
                }
                .org-num:hover {
                        outline: solid gray 2px;
                }
                .org-fancy [data-org-src] {
                        padding-right: 20px;
                        border: solid gray 2px;
                        min-width: 200px;
                        position: relative;
                }
                .coderesults {
                        border: solid blue 2px;
                        min-width: 100px;
                        height: 100%;
                }
                [data-org-results="def"] .coderesults,
                [data-org-results="def"] .results-buttons {
                        display: none;
                }
                .resultscontent {
                        white-space: pre;
                }
                .comments {
                        position: relative;
                        overflow: visible;
                        vertical-align: top;
                        display: none;
                }
                .showcomments.comments {
                        display: inline-block;
                        z-index: 1;
                }
                .comments > * {
                        position: absolute;
                        width: 300px;
                        padding: 5px;
                        background: white;
                        border-radius: 10px;
                        border: solid gray 2px;
                        margin-left: 5px;
                }
                *::x-new-comment {
                        width: calc(100% - 8px);
                }
                .code-buttons {
                        position: absolute;
                        right: 2px;
                        top: 2px;
                        user-select: none;
                        -moz-user-select: none;
                        -webkit-user-select: none;
                        text-align: right;
                        cursor: pointer;
                }
                .comment-button div {
                        background: url(icons/monotone_talk_chat_speech.png) no-repeat 0% 0% / 100% 100%;
                        width: 32px;
                        height: 32px;
                }
                .ast-button {
                        position: absolute;
                        right: 0;
                        width: 16px;
                        height: 16px;
                        background-image: url(ast-small.png);
												cursor: pointer;
                }
                .ast-button.showing {
                        right: auto;
                        left: calc(100% - 16px);
                }
                .ast-button > * {
                        position: absolute;
                        left: 20px;
                        z-index: 1000;
                }
                .ast svg {
                        z-index: 1000;
                        padding: 15px;
                        background: white;
                        border: solid black 2px;
                        border-radius: 10px;
                }
                .showcomments.ast {
                        display: inline-block;
                }
                #leisure_bar {
                        min-height: 28px;
                        background-image: url(leisure_bar.gif);
                        background-repeat: no-repeat;
                        color: black;
                        position: fixed;
                        z-index: 100;
                        width: 135px;
                        right: 0;
                        white-space: normal;
                        user-select: none;
                        -moz-user-select: none;
                        -webkit-user-select: none;
                }
                .not-logged-in #leisure_bar,
                .not-logged-in #panel,
                #login,
                .loading.not-logged-in #login {
                        display: none;
                }
                .not-logged-in #login {
                        display: block;
                }
                .comment-button[data-org-commentcount="0"] span:after {
                        content: "0";
                }
                .comment-button {
                        font-weight: bold;
                        font-size: large;
                }
                .comment-button.new-comments {
                        color: red;
                }
                /*.currentSlide.page > .border {*/
                .page > .border {
                        top: 0;
                        bottom: 0;
                        left: 0;
                        right: 0;
                }
                .page > .border {
                        position: absolute;
                        /*
                        top: 8px;
                        bottom: 8px;
                        left: 8px;
                        right: 8px;
                        */
                        border: solid black 2px;
                        border-radius: 10px;
                        z-index: -1;
                }
                .pagecontent {
                        padding: 120px 100px;
                        overflow: visible;
                }
                .currentSlide .pagecontent {
                        padding: 140px 100px 0px 100px;
                }
                .slides .org-fancy [data-org-headline='1'] {
                        margin-bottom: 0;
                        padding: 0;
                        padding-top: 0;
                }
                .org-fancy [data-org-headline='1'] {
                        margin-bottom: 8px;
                        padding: 8px;
                        position: relative;
                }
                #loading, .org-fancy [data-org-headline='1'] > [data-org-type='text'] {
                        font-size: 2em;
                        position: relative;
                }
                .org-fancy [data-org-headline='1'] > [data-org-type='text'] {
                        display: block;
                }
                body.loading, body.slides {
                        position: absolute;
                        border: none;
                        padding: 0;
                        margin: 0;
                        width: 100%;
                        height: 100%;
                }
                .slides .org-fancy [data-org-headline='1'],
                .slides [data-org-headline='1'] > [data-org-type='text'] > [data-org-type='text-content'] > .textborder,
                #loading-message .textborder {
                        position: absolute;
                        top: 0;
                        bottom: 0;
                        left: 0;
                        right: 0;
                }
                #loading-message .textcontent,
                .slides .textcontent {
                        display: table-cell;
                        vertical-align: middle;
                }
                .slides [data-org-headline='1'] > [data-org-type='text'] > [data-org-type='text-content'] {
                        display: inline-block;
                }
                .slides .org-fancy [data-org-headline='1'] > [data-org-type='text'] {
                        position: absolute;
                        left: 10%;
                        right: 10%;
                        top: 36px;
                        text-align: center;
                        z-index: 99;
                }
                #loading-message, .slides .org-fancy [data-org-headline='1'] > [data-org-type='text'] > [data-org-type='text-content'] {
                        display: table;
                        margin: auto;
                        position: relative;
                        padding-top: 6px;
                        padding-left: 16px;
                        padding-right: 16px;
                }
                #loading-message .textborder, .slides [data-org-headline='1'] > [data-org-type='text'] > [data-org-type='text-content'] > .textborder {
                        background: white;
                        border: black solid 2px;
                        border-radius: 10px;
                        z-index: -1;
                }
                .org-fancy [data-org-headline='2'] > [data-org-type='text'] {
                        font-size: 1.5em;
                }
                .org-fancy [data-org-headline='3'] > [data-org-type='text'] {
                        font-size: 1.17em;
                }
                .org-fancy [data-org-headline='4'] > [data-org-type='text'] {
                }
                .slides [data-org-headline='1'] {
                        display: none;
                }
                .slides [data-org-headline='1'].currentSlide {
                        display: block;
                }
                .slides #sourceblock {
                        display: none;
                }
                .slides .tags {
                        display: none;
                }
                .codewrapper > tbody > tr {
                        vertical-align: top;
                }
                .org-fancy [data-org-html="true"] {
                        white-space: normal;
                }
        </style>
        <style>
          /* styles for Leisure output */
                .partial-application {
                        display: inline-block;
                        border-radius: 5px;
                        border: black 2px solid;
                        background: lightgray;
                        font-weight: bold;
                }
                .resultsline > * {
                        vertical-align: middle;
                        margin-bottom: 0.25em;
                }
        </style>
        <!-- link href='http://fonts.googleapis.com/css?family=Oxygen:400,700' rel='stylesheet' type='text/css' -->
        <!--script src="http://www.google.com/jsapi?autoload=%7B%22modules%22%3A%5B%7B%22name%22%3A%22picker%22%2C%22version%22%3A%221%22%7D%5D%7D"></script-->
        <link href='jquery-ui/css/leisure/jquery-ui-1.9.2.custom.min.css' rel='stylesheet' type='text/css'>
        <script src="jquery-ui/js/jquery-1.8.2.js"></script>
        <script src="jquery-ui/js/jquery-ui-1.9.1.custom.js"></script>
        <script language="javascript">
          Error.stackTraceLimit = Infinity;
          window.Boot = {extraJsFiles: [
                'browserSupport',
                'orgSupport',
                'githubExtensions',
                'storage',
                'fancyOrg',
                'gui',
                'parseAst',
          ]};
          function start() {
                setTimeout(function() {
                        window.Leisure = {calc: true}
                        var script = document.createElement('script');
                        script.src = "bootLeisure.js?uniq=" + Math.random();
                        script.onload = function() {
                                var div = $('[maindoc]');

                                window.ORG_TEXT = div.html().replace(/^\s*<!--*/, '').replace(/-->\s*\n*/m, '').trim();
                                Boot.onboot(function() {
                                        $('#loading').remove();
                                        $('body').removeClass('loading');
                                        $('#panel').css('display', '');
                                        Leisure.setTheme('steampunk');
                                        Leisure.initOrg('[maindoc]', '#source');
                                });
                    }
                        document.head.appendChild(script);
                }, 1);
          }
        </script>
  </head>
  <body class="loading not-logged-in steampunkX">
    <table id="loading">
      <tr>
        <td>
          <div id="loading-message"><div class='textborder'></div><div class='textcontent'>LOADING LEISURE</div><div style="text-align: center; position: absolute; top: 100%; left: 0; width: 100%"><img src="images/loading.gif"></div>
        </td>
      </tr>
    </table>
<div id="login">
<h2>Github</h2>
Github Login: <input id='name' type='text'> Password: <input id='password' type='password'><hr>
User: <input id='user' type='text'><br>
Repository: <input id='repository' type='text'><br>
File: <input id='file' type='text'><br>
<button onclick="Leisure.connectStorage()">Connect</button>
<hr>
<h2>Local</h2>
File: <input type="file" onchange="Leisure.useFile(this.files[0])">
</div>
<div id="panel">
  <div maindoc contenteditable='true'><!--
* code :duh:
#+BEGIN_SRC leisure :results dynamic
3 + 4
#+END_SRC

#+RESULTS:
: 7

* one

* two

--></div>
  <div id='sourceblock'>
    <br>Source...
    <div id='source' style="white-space: pre-wrap; border: blue solid 2px"></div>
  </div>
</div>
<script>start()</script>
  </body>
</html>
