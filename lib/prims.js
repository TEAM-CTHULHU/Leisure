// Generated by CoffeeScript 1.6.3
(function() {
  var URI, lazy, lz, resolve, root, rz, _ref;

  _ref = root = module.exports = require('./base'), resolve = _ref.resolve, lazy = _ref.lazy;

  rz = resolve;

  lz = lazy;

  URI = require('./uri');

  define('read', lz(function(uri) {
    return makeMonad(function(env, cont) {
      return read(new URI(rz(uri)), (function(data) {
        return cont(rz(_left)(lz(data.toString())));
      }), function(err) {
        return cont(_right()(lz(err.stack.toString())));
      });
    });
  }));

  define('write', lz(function(uri) {
    return function(data) {
      return makeMonad(function(env, cont) {
        return write(new URI(rz(uri)), rz(data), (function() {
          return cont(rz(_left)(lz("success")));
        }), function(err) {
          return cont(rz(_right)(lz(err.stack.toString())));
        });
      });
    };
  }));

  define('forward', lz(function(name) {
    return makeMonad(function(env, cont) {
      Leisure.defineForward(name);
      return cont(rz(_false));
    });
  }));

}).call(this);

/*
//@ sourceMappingURL=prims.map
*/
